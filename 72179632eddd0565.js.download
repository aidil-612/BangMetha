!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._posthogChunkIds=e._posthogChunkIds||{},e._posthogChunkIds[n]="019a9487-e17b-7c80-a01d-4b7fc83a9e5e")}catch(e){}}();(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,844669,e=>{"use strict";var t=e.i(706645),o=e.i(222982),r=e.i(886641);function i(e,i){return(0,o.useBaseQuery)({...e,enabled:!0,suspense:!0,throwOnError:r.defaultThrowOnError,placeholderData:void 0},t.QueryObserver,i)}e.s(["useSuspenseQuery",()=>i])},940335,(e,t,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.regionAPIs=void 0,o.regionAPIs=new Map([["us","https://api-iam.intercom.io"],["eu","https://api-iam.eu.intercom.io"],["ap","https://api-iam.au.intercom.io"]])},413843,(e,t,o)=>{"use strict";var r=e.e&&e.e.__awaiter||function(e,t,o,r){return new(o||(o=Promise))(function(i,n){function s(e){try{u(r.next(e))}catch(e){n(e)}}function a(e){try{u(r.throw(e))}catch(e){n(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof o?t:new o(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(o,"__esModule",{value:!0}),o.ref=o.init=void 0;let i="_intercom_npm_loader",n=function(){n.loaderQueue(arguments)};n.q=[],n.loaderQueue=function(e){n.q.push(e)};let s=function(e){var t,o,r=document;if(!r.getElementById(i)){var n=r.createElement("script");n.type="text/javascript",n.async=!0,n.id=i,n.src=e||"https://widget.intercom.io/widget/"+(null==(t=window.intercomSettings)?void 0:t.app_id);var s=r.getElementsByTagName("script")[0];null==(o=s.parentNode)||o.insertBefore(n,s)}},a=()=>"complete"===document.readyState||"interactive"===document.readyState;o.init=(...e)=>r(void 0,[...e],void 0,function*(e={}){var t=window,o=t.Intercom;t.intercomSettings&&(t.intercomSettings.installation_type="npm-package"),"function"==typeof o?(o("reattach_activator"),o("update",t.intercomSettings)):(t.Intercom=n,a()?s(e.widgetUrl):(document.addEventListener("readystatechange",function(){a()&&s(e.widgetUrl)}),t.attachEvent?t.attachEvent("onload",()=>s(e.widgetUrl)):t.addEventListener("load",()=>s(e.widgetUrl),!1)))}),o.ref=void 0},722921,(e,t,o)=>{"use strict";var r=e.e&&e.e.__rest||function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(o[r[i]]=e[r[i]]);return o};Object.defineProperty(o,"__esModule",{value:!0}),o.hideNotifications=o.onUserEmailSupplied=o.showConversation=o.showTicket=o.startChecklist=o.startSurvey=o.showNews=o.showArticle=o.startTour=o.whoami=o.getVisitorId=o.trackEvent=o.onUnreadCountChange=o.onShow=o.onHide=o.showNewMessage=o.showMessages=o.showSpace=o.show=o.hide=o.update=o.shutdown=o.boot=o.Intercom=void 0;let i=e.r(940335),n=e.r(413843),s=(e,...t)=>{if(window.Intercom)return window.Intercom(e,...t);console.warn("Please ensure Intercom is setup and running on client-side!")};o.Intercom=e=>{if("object"!=typeof e)return void console.warn("Intercom initialiser called with invalid parameters.");let{region:t="us",widgetUrl:o}=e,s=r(e,["region","widgetUrl"]);"undefined"==typeof window||n.ref||(window.intercomSettings=Object.assign(Object.assign({},s),{api_base:i.regionAPIs.get(t)}),(0,n.init)({widgetUrl:o}))},o.default=o.Intercom,o.boot=e=>s("boot",e),o.shutdown=()=>s("shutdown"),o.update=e=>s("update",e),o.hide=()=>s("hide"),o.show=()=>s("show"),o.showSpace=e=>s("showSpace",e),o.showMessages=()=>s("showMessages"),o.showNewMessage=e=>s("showNewMessage",e),o.onHide=e=>s("onHide",e),o.onShow=e=>s("onShow",e),o.onUnreadCountChange=e=>s("onUnreadCountChange",e),o.trackEvent=(...e)=>s("trackEvent",...e),o.getVisitorId=()=>s("getVisitorId"),o.whoami=()=>s("whoami"),o.startTour=e=>s("startTour",e),o.showArticle=e=>s("showArticle",e),o.showNews=e=>s("showNews",e),o.startSurvey=e=>s("startSurvey",e),o.startChecklist=e=>s("startChecklist",e),o.showTicket=e=>s("showTicket",e),o.showConversation=e=>s("showConversation",e),o.onUserEmailSupplied=e=>s("onUserEmailSupplied",e),o.hideNotifications=e=>s("hideNotifications",e)},215224,e=>{"use strict";var t=e.i(722921);let o=(0,e.i(738290).create)((e,o)=>({isReady:!1,isVisible:!1,hasBooted:!1,previousUserId:null,previousBusinessId:null,setIsReady:t=>e({isReady:t}),setIsVisible:t=>e({isVisible:t}),setHasBooted:t=>e({hasBooted:t}),setPreviousUserId:t=>e({previousUserId:t}),setPreviousBusinessId:t=>e({previousBusinessId:t}),openLiveChat:e=>e?(0,t.showNewMessage)(e):(0,t.show)(),closeLiveChat:()=>(0,t.shutdown)(),hideLiveChat:()=>(0,t.hide)(),reset:()=>e({isReady:!1,hasBooted:!1,previousUserId:null,previousBusinessId:null})}));e.s(["useLiveChat",0,o])},871646,e=>{"use strict";var t=e.i(401181),o=e.i(715202),r=e.i(722921),i=e.i(844669),n=e.i(216246),s=e.i(771158),a=e.i(215224),u=e.i(158956);let c=(0,t.memo)(function(){let{activeBusiness:e}=(0,n.useBusinessContext)(),{user:c}=(0,o.useUser)(),d=(0,t.useRef)(null),l=(0,t.useRef)(!1),{isReady:h,hasBooted:p,previousUserId:w,previousBusinessId:f,setIsVisible:m,setIsReady:v,setHasBooted:g,setPreviousUserId:y,setPreviousBusinessId:b,reset:I}=(0,a.useLiveChat)(),S=(0,s.useTRPC)(),{data:C}=(0,i.useSuspenseQuery)(S.support.getSupportInfo.queryOptions({businessId:e?.id},{enabled:!!c&&!!e?.id,gcTime:3e5,staleTime:6e4})),E=(0,t.useCallback)(()=>{if(!C)return!1;let{intercom_user_jwt:e,...t}=C.content||{};if(!e)return u.logger.error("Intercom JWT token is missing from supportInfo"),!1;let o=Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t).map(([e,t])=>[e,t]));try{return(0,r.default)({api_base:"https://api-iam.intercom.io",app_id:"jihh4c3p",intercom_user_jwt:e,hide_default_launcher:!0,entry_point:"support_modal",...o}),!0}catch(e){return u.logger.error("Failed to boot Intercom",e),!1}},[C]);return(0,t.useEffect)(()=>{if(!l.current){let e;return l.current=!0,d.current=new AbortController,(e=d.current.signal,new Promise((t,o)=>{let i;if("function"==typeof r.default)return void t();let n=Date.now(),s=()=>{if(e?.aborted){clearTimeout(i),o(Error("Aborted"));return}if("function"==typeof r.default){clearTimeout(i),t();return}if(Date.now()-n>1e4){clearTimeout(i),o(Error("Intercom loading timeout"));return}i=setTimeout(s,100)};s()})).then(()=>{v(!0)}).catch(e=>{"Aborted"!==e.message&&u.logger.error("Failed to load Intercom",e)}),()=>{d.current?.abort()}}},[v]),(0,t.useEffect)(()=>{if(!h||!c||!e?.id||!C)return;let t=c.id,o=e.id,i=p&&(w!==t||f!==o);i&&((0,r.shutdown)(),g(!1)),p?i||(w!==t&&y(t),f!==o&&b(o)):E()&&(g(!0),y(t),b(o))},[c,e,C,h,w,f,p,E,y,b,g]),(0,t.useEffect)(()=>{(0,r.onHide)(()=>{m(!1)}),(0,r.onShow)(()=>{m(!0)})},[m]),(0,t.useEffect)(()=>{h&&p&&!c&&((0,r.shutdown)(),I())},[c,h,p,I]),(0,t.useEffect)(()=>()=>{p&&(0,r.shutdown)()},[p]),null});e.s(["LiveChatProvider",0,c])},949754,e=>{e.n(e.i(871646))}]);

//# sourceMappingURL=4ce7915e61a2518d.js.map
//# chunkId=019a9487-e17b-7c80-a01d-4b7fc83a9e5e